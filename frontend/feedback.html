<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EventHive – Feedback Analyzer</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 flex items-center justify-center min-h-screen">

  <div class="bg-white shadow-xl rounded-2xl p-8 w-full max-w-md">
    <h1 class="text-2xl font-bold mb-4 text-center">Event Feedback Analyzer 📝</h1>
    
    <textarea id="feedbackInput" 
      class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"
      rows="4" placeholder="Type your feedback here..."></textarea>
    
    <button onclick="analyzeFeedback()" 
      class="mt-4 w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700">
      Analyze Sentiment
    </button>
    
    <div id="result" class="mt-4 text-center text-lg font-semibold"></div>
  </div>

  <script>
    async function analyzeFeedback() {
      const feedback = document.getElementById("feedbackInput").value;

      const response = await fetch("http://127.0.0.1:5000/api/feedback/analyze", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ feedback })
      });

      const data = await response.json();
      let sentimentEmoji = "";

      if (data.sentiment === "positive") sentimentEmoji = "😊 Positive";
      else if (data.sentiment === "negative") sentimentEmoji = "😡 Negative";
      else sentimentEmoji = "😐 Neutral";

      document.getElementById("result").innerText = `Result: ${sentimentEmoji}`;
    }
  </script>
</body>
</html>
